(window.webpackJsonp=window.webpackJsonp||[]).push([[30,10,12,16],{219:function(t,e,r){var content=r(221);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(19).default)("0947f80c",content,!0,{sourceMap:!1})},220:function(t,e,r){"use strict";r(219)},221:function(t,e,r){var o=r(18)(!1);o.push([t.i,'.lds-roller[data-v-d6e0c7b0]{display:inline-block;position:absolute;width:80px;height:80px;top:16%;left:46%;z-index:9999}.lds-roller div[data-v-d6e0c7b0]{-webkit-animation:lds-roller-data-v-d6e0c7b0 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-roller-data-v-d6e0c7b0 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller div[data-v-d6e0c7b0]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#000;margin:-4px 0 0 -4px}.lds-roller div[data-v-d6e0c7b0]:first-child{-webkit-animation-delay:-36ms;animation-delay:-36ms}.lds-roller div[data-v-d6e0c7b0]:first-child:after{top:63px;left:63px}.lds-roller div[data-v-d6e0c7b0]:nth-child(2){-webkit-animation-delay:-72ms;animation-delay:-72ms}.lds-roller div[data-v-d6e0c7b0]:nth-child(2):after{top:68px;left:56px}.lds-roller div[data-v-d6e0c7b0]:nth-child(3){-webkit-animation-delay:-.108s;animation-delay:-.108s}.lds-roller div[data-v-d6e0c7b0]:nth-child(3):after{top:71px;left:48px}.lds-roller div[data-v-d6e0c7b0]:nth-child(4){-webkit-animation-delay:-.144s;animation-delay:-.144s}.lds-roller div[data-v-d6e0c7b0]:nth-child(4):after{top:72px;left:40px}.lds-roller div[data-v-d6e0c7b0]:nth-child(5){-webkit-animation-delay:-.18s;animation-delay:-.18s}.lds-roller div[data-v-d6e0c7b0]:nth-child(5):after{top:71px;left:32px}.lds-roller div[data-v-d6e0c7b0]:nth-child(6){-webkit-animation-delay:-.216s;animation-delay:-.216s}.lds-roller div[data-v-d6e0c7b0]:nth-child(6):after{top:68px;left:24px}.lds-roller div[data-v-d6e0c7b0]:nth-child(7){-webkit-animation-delay:-.252s;animation-delay:-.252s}.lds-roller div[data-v-d6e0c7b0]:nth-child(7):after{top:63px;left:17px}.lds-roller div[data-v-d6e0c7b0]:nth-child(8){-webkit-animation-delay:-.288s;animation-delay:-.288s}.lds-roller div[data-v-d6e0c7b0]:nth-child(8):after{top:56px;left:12px}@-webkit-keyframes lds-roller-data-v-d6e0c7b0{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-roller-data-v-d6e0c7b0{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}',""]),t.exports=o},222:function(t,e,r){"use strict";r.r(e);var o={name:"loader"},l=(r(220),r(6)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return this.$store.state.shared.status_messages.showLoading?r("div",[t._m(0)]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])}],!1,null,"d6e0c7b0",null);e.default=component.exports},223:function(t,e,r){"use strict";r.r(e);var o={name:"statusMessages",mounted:function(){}},l=r(6),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[""!=this.$store.state.shared.status_messages.success_message?r("div",{staticClass:"sufee-alert alert with-close alert-success alert-dismissible"},[r("span",{staticClass:"badge badge-pill badge-success"},[t._v("Success")]),t._v("\n    "+t._s(this.$store.state.shared.status_messages.success_message)+"\n  ")]):t._e(),t._v(" "),""!=this.$store.state.shared.status_messages.error_message?r("div",{staticClass:"sufee-alert alert with-close alert-danger alert-dismissible"},[r("span",{staticClass:"badge badge-pill badge-success"},[t._v("Error")]),t._v("\n    "+t._s(this.$store.state.shared.status_messages.error_message)+"\n  ")]):t._e(),t._v(" "),this.$store.state.shared.status_messages.validation_errors.length?r("div",{staticClass:"sufee-alert alert with-close alert-danger alert-dismissible"},t._l(this.$store.state.shared.status_messages.validation_errors,(function(e,o){return r("ul",{key:o},[r("li",[t._v(t._s(e))])])})),0):t._e()])}),[],!1,null,"79209d36",null);e.default=component.exports},225:function(t,e,r){var content=r(230);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(19).default)("3f9f5293",content,!0,{sourceMap:!1})},229:function(t,e,r){"use strict";r(225)},230:function(t,e,r){var o=r(18)(!1);o.push([t.i,".required-in{color:red}.calendar-view{top:-200px!important}.photo_preview{width:90px;height:130px}.discount-wrapper{position:relative}.discount-badge{background:red;position:absolute;width:88px;height:34px;z-index:9999;right:17px;top:9px;color:#fff;text-align:center;font-size:22px;font-weight:700}.photo-wrapper{text-align:center;border:2px solid #ccc;margin:8px}",""]),t.exports=o},232:function(t,e,r){"use strict";r.r(e);var o=r(22),l=(r(20),r(242)),d=r(243),c={name:"ProductForm",components:{Datepicker:l.a,quillEditor:d.quillEditor},data:function(){return{editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]]}}}},computed:{product:{get:function(){return this.$store.state.product.product}}},methods:{updateField:function(t){var e=this;this.$store.commit("product/setProduct",{key:t.target.name,value:t.target.value}),"category_id"==t.target.name&&(this.$store.dispatch("category/showCategory",t.target.value),this.$store.commit("product/resetFeatures"),setTimeout((function(){e.$store.state.category.features.length&&Object(o.a)(e.$store.state.category.features).map((function(t){e.$store.commit("product/appendToFeatures",{field_id:t.id,field_title:t.field_title,field_type:t.field_type,field_value:""})}))}),300))},updateTextAreaContent:function(t){this.$store.commit("product/setProduct",{key:"description",value:t.html})},updateStartDateField:function(t){t?this.$store.commit("product/setProduct",{key:"discount_start_date",value:t.toLocaleDateString("en-US")}):this.$store.commit("product/setProduct",{key:"discount_start_date",value:""})},updateEndDateField:function(t){t?this.$store.commit("product/setProduct",{key:"discount_end_date",value:t.toLocaleDateString("en-US")}):this.$store.commit("product/setProduct",{key:"discount_end_date",value:""})},handlePhotos:function(t){this.$store.commit("product/setFiles",t.target.files),this.previewPhotos()},previewPhotos:function(){var t=this;this.$store.commit("product/clearFilesPreview"),this.$store.state.product.files.map((function(e){var r=t,o=new FileReader;o.onload=function(t){r.$store.commit("product/appendFilesPreview",t.target.result)},o.readAsDataURL(e)}))},updateFeatureValue:function(t,e){this.$store.commit("product/updateFeatureValue",{id:e,value:t.target.value})},getPriceWithDiscount:function(){return this.product.price-this.product.price*(this.product.discount/100)},removeImage:function(t){confirm("Are you sure?")&&this.$store.dispatch("product/removeImage",t)}},mounted:function(){}},n=(r(229),r(6)),component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(this.$route.params.edit?"Edit Product #"+this.$route.params.edit:"Create New Product"))])]),t._v(" "),r("div",{staticClass:"card-body card-block"},[r("div",{staticClass:"form-group"},[t._m(0),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"text",id:"title",name:"title",placeholder:"Enter product title"},domProps:{value:this.product.title},on:{change:function(e){return t.updateField(e)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[t._m(1),t._v(" "),r("select",{staticClass:"form-control",attrs:{name:"category_id",id:"category_id"},domProps:{value:this.product.category_id,innerHTML:t._s(this.$store.state.category.categoryHtmlTree)},on:{change:function(e){return t.updateField(e)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:" form-control-label",attrs:{for:"product_code"}},[t._v("Product Code")]),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"text",id:"product_code",name:"product_code",placeholder:"Product code"},domProps:{value:this.product.product_code},on:{change:function(e){return t.updateField(e)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:" form-control-label",attrs:{for:"brand_id"}},[t._v("Brand ")]),t._v(" "),r("select",{staticClass:"form-control",attrs:{name:"brand_id",id:"brand_id"},domProps:{value:this.product.brand_id},on:{change:function(e){return t.updateField(e)}}},[r("option",{attrs:{value:""}},[t._v("none")]),t._v(" "),t._l(this.$store.state.brand.allBrands,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])}))],2)])])])]),t._v(" "),r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"card"},[t._m(2),t._v(" "),r("div",{staticClass:"card-body"},[t._m(3),t._v(" "),r("div",{staticClass:"input-group"},[r("input",{staticClass:"form-control",attrs:{type:"text",id:"price",name:"price",placeholder:"Price"},domProps:{value:this.product.price},on:{change:function(e){return t.updateField(e)}}}),t._v(" "),t._m(4)]),t._v(" "),r("div",{staticClass:"form-group"},[t._m(5),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"number",id:"amount",name:"amount",placeholder:"Amount"},domProps:{value:this.product.amount},on:{change:function(e){return t.updateField(e)}}})])])])]),t._v(" "),r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"card"},[t._m(6),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:" form-control-label"},[t._v("Description")]),t._v(" "),r("quillEditor",{staticClass:"quill-editor",attrs:{value:this.product.description,options:t.editorOption},on:{change:function(e){return t.updateTextAreaContent(e)}}})],1)])])]),t._v(" "),r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"card"},[t._m(7),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row",attrs:{id:"preview"}},t._l(this.$store.state.product.files_preview,(function(t,e){return r("div",{key:e,staticClass:"col-lg-3 photo-wrapper"},[r("img",{staticClass:"photo_preview",attrs:{src:t}})])})),0),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"file",name:"image[]",multiple:"",accept:"image/*"},on:{change:t.handlePhotos}}),t._v(" "),this.$store.state.product.gallery.length?r("div",{staticClass:"row"},t._l(this.$store.state.product.gallery,(function(e,o){return r("div",{staticClass:"col-lg-3"},[r("img",{staticClass:"photo_preview",attrs:{src:e.image_url.small}}),t._v(" "),r("a",{staticClass:"btn btn-danger",attrs:{href:"#",title:"remove"},on:{click:function(r){return r.preventDefault(),t.removeImage(e.id)}}},[r("i",{staticClass:"fa fa-remove"})])])})),0):t._e()])])]),t._v(" "),r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"card"},[t._m(8),t._v(" "),r("div",{staticClass:"card-body"},[this.$store.state.product.features.length?r("div",t._l(this.$store.state.product.features,(function(e){return r("div",{staticClass:"form-group"},[r("label",{staticClass:"form-control-label"},[t._v(t._s(e.field_title))]),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:1===e.field_type?"text":"color",name:"feature["+e.field_id+"]",placeholder:""},domProps:{value:e.field_value},on:{change:function(r){return t.updateFeatureValue(r,e.field_id)}}})])})),0):t._e()])])]),t._v(" "),r("div",{staticClass:"col-lg-12 discount-wrapper"},[this.product.discount>0?r("div",{staticClass:"discount-badge"},[t._v(t._s(this.product.discount)+" %")]):t._e(),t._v(" "),r("div",{staticClass:"card"},[t._m(9),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-2"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:" form-control-label",attrs:{for:"discount"}},[t._v("Discount")]),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"number",id:"discount",name:"discount",min:"0",max:"100"},domProps:{value:this.product.discount},on:{change:function(e){return t.updateField(e)}}})])]),t._v(" "),r("div",{staticClass:"col-lg-5"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:" form-control-label"},[t._v("Discount start date")]),t._v(" "),r("Datepicker",{attrs:{name:"discount_start_date",format:"yyyy-MM-dd","input-class":"form-control","clear-button":!0,"calendar-class":"calendar-view","bootstrap-styling":!0,"clear-button-icon":"fa fa-remove",value:this.product.discount_start_date},on:{input:t.updateStartDateField,selected:t.updateStartDateField}})],1)]),t._v(" "),r("div",{staticClass:"col-lg-5"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:" form-control-label"},[t._v("Discount end date")]),t._v(" "),r("Datepicker",{attrs:{name:"discount_end_date",format:"yyyy-MM-dd","input-class":"form-control","clear-button":!0,"calendar-class":"calendar-view","bootstrap-styling":!0,"clear-button-icon":"fa fa-remove",value:this.product.discount_end_date},on:{input:t.updateEndDateField,selected:t.updateEndDateField}})],1)]),t._v(" "),""!==t.product.price&&""!==t.product.discount&&t.product.discount>0?r("div",{staticClass:"col-lg-12 text-center"},[r("p",[t._v("Original price: "),r("del",[t._v(t._s(t.product.price))])]),t._v(" "),r("p",[t._v("Price after discount: "),r("strong",[t._v(t._s(this.getPriceWithDiscount()))])])]):t._e()])])])]),t._v(" "),r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"card"},[t._m(10),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:" form-control-label",attrs:{for:"featured"}},[t._v("Is Featured Product")]),t._v(" "),r("select",{staticClass:"form-control",attrs:{id:"featured",name:"featured"},domProps:{value:this.product.featured},on:{change:function(e){return t.updateField(e)}}},[r("option",{attrs:{value:"0"}},[t._v("No")]),t._v(" "),r("option",{attrs:{value:"1"}},[t._v("Yes")])])])])])])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:" form-control-label",attrs:{for:"title"}},[t._v("Title "),r("span",{staticClass:"required-in"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:" form-control-label",attrs:{for:"category_id"}},[t._v("Category "),r("span",{staticClass:"required-in"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-header"},[r("strong",[t._v("Pricing details")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:" form-control-label",attrs:{for:"price"}},[t._v("Price "),r("span",{staticClass:"required-in"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-group-append"},[r("span",{staticClass:"input-group-text"},[t._v("$")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:" form-control-label",attrs:{for:"amount"}},[t._v("Amount "),r("span",{staticClass:"required-in"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-header"},[r("strong",[t._v("Description")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-header"},[r("strong",[t._v("Product Photos")]),t._v(" "),r("span",{staticStyle:{"font-size":"12px"}},[t._v("(Select multiple images)")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-header"},[r("strong",[t._v("Features")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-header"},[r("strong",[t._v("Discount details")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-header"},[r("strong",[t._v("Display options")])])}],!1,null,null,null);e.default=component.exports},273:function(t,e,r){"use strict";r.r(e);var o=r(222),l=r(223),d={name:"EditProduct",data:function(){return{id:""}},components:{ProductForm:r(232).default,StatusMessages:l.default,Loader:o.default},fetch:function(){var t=this;this.$store.dispatch("category/getCategoryHtmlTree"),this.$store.dispatch("brand/getAllBrands"),setTimeout((function(){t.$route.params.edit&&(t.id=t.$route.params.edit,t.$store.dispatch("product/show",t.$route.params.edit))}),200)},methods:{update:function(){this.$store.dispatch("product/update",{id:this.id,router:this.$router})}},mounted:function(){}},c=r(6),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-content"},[r("div",{staticClass:"section__content section__content--p30"},[r("div",{staticClass:"container-fluid"},[r("loader"),t._v(" "),r("status-messages"),t._v(" "),r("form",{attrs:{method:"post",action:"#",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.update()}}},[r("ProductForm"),t._v(" "),t._m(0)],1)],1)])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("button",{staticClass:"btn btn-lg btn-info btn-block",attrs:{type:"submit"}},[r("i",{staticClass:"fa fa-save fa-lg"}),t._v(" Update\n          ")])])}],!1,null,"78f305f4",null);e.default=component.exports}}]);